---
apiVersion: v1
kind: ConfigMap
metadata:
  name: litellm-config
  namespace: zuul-system
  labels:
    app.kubernetes.io/name: litellm
    app.kubernetes.io/component: proxy
    app.kubernetes.io/part-of: zuul-homelab
data:
  config.yaml: |
    model_list:
      # Z.AI models via Anthropic-compatible endpoint
      - model_name: glm-4.7
        litellm_params:
          model: anthropic/glm-4.7
          api_key: os.environ/ZAI_API_KEY
          api_base: https://api.z.ai/api/anthropic
      
      - model_name: glm-4.6
        litellm_params:
          model: anthropic/glm-4.6
          api_key: os.environ/ZAI_API_KEY
          api_base: https://api.z.ai/api/anthropic
      
      - model_name: glm-4.5-air
        litellm_params:
          model: anthropic/glm-4.5-air
          api_key: os.environ/ZAI_API_KEY
          api_base: https://api.z.ai/api/anthropic
      
      - model_name: glm-4.5-flash
        litellm_params:
          model: anthropic/glm-4.5-flash
          api_key: os.environ/ZAI_API_KEY
          api_base: https://api.z.ai/api/anthropic
      
      - model_name: glm-4.7-flash
        litellm_params:
          model: anthropic/glm-4.7-flash
          api_key: os.environ/ZAI_API_KEY
          api_base: https://api.z.ai/api/anthropic
      
      - model_name: glm-4.7-flashx
        litellm_params:
          model: anthropic/glm-4.7-flashx
          api_key: os.environ/ZAI_API_KEY
          api_base: https://api.z.ai/api/anthropic
    
    general_settings:
      allow_requests_on_db_unavailable: true
      disable_spend_logs: true
      disable_error_logs: true
    
    litellm_settings:
      set_verbose: false
      json_logs: true
      request_timeout: 90
      drop_params: true
